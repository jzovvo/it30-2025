<style>
  * {
    margin: 0;
    padding: 0;
  }

  body {
    font-size: calc(calc(40 / 1280 * 100vw) + 20px); /** <- */
  }

  .target {
    width: max-content;
    background-color: chocolate;
  }

  .rule1 {
    background-color: red;
  }

  .rule2 {
    background-color: blue;
  }
</style>
<div class="target">hi</div>
<div class="rule1"></div>
<div class="rule2"></div>
<div id="info"></div>
<script>
  const domInfo = document.querySelector('#info')
  const domRule1 = document.querySelector('.rule1')
  const domRule2 = document.querySelector('.rule2')
  const domTarget = document.querySelector('.target')

  const init = () => {
    const targetStyle = getComputedStyle(domTarget)
    const targetWidth = Number.parseFloat(targetStyle.width)
    const targetHeight = Number.parseFloat(targetStyle.height)

    domRule1.style.width = `calc(${targetWidth} / 1280 * 100vw)`
    domRule1.style.height = `calc(${targetHeight} / 1280 * 100vw)`
    domRule2.style.width = `calc(${targetWidth * 2} / 1280 * 100vw)`
    domRule2.style.height = `calc(${targetHeight * 2} / 1280 * 100vw)`
  }

  init()
</script>
